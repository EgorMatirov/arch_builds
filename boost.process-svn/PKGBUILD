# Maintainer: Aleksey Filippov <sarum9in@gmail.com>
pkgname=boost.process-svn
pkgver=0.0.0
pkgrel=1
pkgdesc="Unofficial boost process library"
arch=('any')
url="http://www.highscore.de/boost/process/"
license=('GPL')
groups=()
depends=('boost')
makedepends=('subversion')
provides=('boost.process')
conflicts=('boost.process')
replaces=()
backup=()
options=()
install=
source=("$pkgname::svn+http://svn.boost.org/svn/boost/sandbox/process/boost/"
        'filesystem.patch' 'boost_system_system_category.patch' 'mingw32.patch')
noextract=()
md5sums=('SKIP'
         '8e56dc15541a0160408b6fda1d5cc2eb'
         'a8746c197dc4b34057e6d58a2085c79f'
         'a16ab29dc440f261f613ec3b0d43c7c0')

pkgver() {
  cd "$SRCDEST/$pkgname"
  svnversion | tr -d [A-z]
}

build() {
  cd "$srcdir/$pkgname"
  patch -Np1 -i "../filesystem.patch"
  patch -Np1 -i "../boost_system_system_category.patch"
  patch -Np1 -i "../mingw32.patch"
}

package() {
  cd "$srcdir/$pkgname"
  dest="$pkgdir/usr/include/boost"
  install -d "$dest"
  tar cf - --exclude-vcs . | (cd "$dest" && tar xf -)
}

# vim:set ts=2 sw=2 et:
